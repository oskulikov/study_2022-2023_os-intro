import os
import shutil
import zipfile

def create_backup():
    # Получаем путь к текущему скрипту
    current_script = os.path.realpath(__file__)
    
    # Определяем директорию для резервных копий
    home_dir = os.path.expanduser("~")
    backup_dir = os.path.join(home_dir, "backup")
    
    # Создаем директорию для резервных копий, если она не существует
    if not os.path.exists(backup_dir):
        os.makedirs(backup_dir)
    
    # Имя резервного файла
    script_name = os.path.basename(current_script)
    backup_file_name = f"{script_name}.zip"
    backup_file_path = os.path.join(backup_dir, backup_file_name)
    
    # Создаем zip архив
    with zipfile.ZipFile(backup_file_path, 'w') as backup_zip:
        backup_zip.write(current_script, arcname=script_name)
    
    print(f"Резервная копия создана: {backup_file_path}")

if __name__ == "__main__":
    create_backup()
