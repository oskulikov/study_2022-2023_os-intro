#!/bin/bash

# Функция для вывода помощи
usage() {
    echo "Использование: $0 <число файлов> [-d]"
    echo "  <число файлов> : Число файлов для создания (если без -d)"
    echo "  -d             : Удалить все созданные файлы"
    exit 1
}

# Проверка аргументов
if [ $# -eq 0 ]; then
    usage
fi

# Обработка опции удаления
if [ "$1" == "-d" ]; then
    for file in *.tmp; do
        if [ -e "$file" ]; then
            rm "$file"
            echo "Удален файл $file"
        fi
    done
    exit 0
fi

# Проверка корректности первого аргумента
if ! [[ "$1" =~ ^[0-9]+$ ]]; then
    echo "Ошибка: первый аргумент должен быть числом."
    usage
fi

# Получаем количество файлов для создания
num_files=$1

# Создание файлов
for i in $(seq 1 $num_files); do
    touch "$i.tmp"
    echo "Создан файл $i.tmp"
done
